/* =======================================================
   Pharm-let — Global Styles (v2.3, final)
   ======================================================= */

/* ===== Theme tokens ===== */
:root{
  --bg:#f6f5f5; --card:#ffffff; --text:#1f2937; --muted:#6b7280;
  --accent:#8b1e3f; --accent-600:#731933;
  --good:#10b981; --bad:#ef4444; --ring:#e5e7eb;
  --link:#8b1e3f;
  --shadow: 0 10px 15px -3px rgba(0,0,0,.08), 0 4px 6px -2px rgba(0,0,0,.04);
  --shadow-lg: 0 20px 25px -5px rgba(0,0,0,.12), 0 10px 10px -5px rgba(0,0,0,.08);
}
.dark{
  --bg:#0f172a; --card:#1f2937; --text:#e5e7eb; --muted:#9ca3af;
  --accent:#b3274f; --accent-600:#8b1e3f;
  --good:#34d399; --bad:#f87171; --ring:#374151;
  --link:#f0a3bc;
  --shadow: 0 10px 15px -3px rgba(0,0,0,.45), 0 4px 6px -2px rgba(0,0,0,.35);
  --shadow-lg: 0 20px 25px -5px rgba(0,0,0,.55), 0 10px 10px -5px rgba(0,0,0,.45);
}
/* Badge styles */
.badge {
  display: inline-flex;
  align-items: center;
  font-size: 0.7rem;
  font-weight: 600;
  padding: 0.2rem 0.6rem;
  border-radius: 9999px;
  margin-left: 0.4rem;
}

/* Variants */
.badge-new {
  background: #10b981; /* Tailwind emerald-500 */
  color: white;
  box-shadow: 0 0 6px rgba(16,185,129,0.6);
}

.badge-featured {
  background: #3b82f6; /* Tailwind blue-500 */
  color: white;
  box-shadow: 0 0 6px rgba(59,130,246,0.6);
}

.badge-tbd {
  background: #f59e0b; /* Tailwind amber-500 */
  color: white;
  box-shadow: 0 0 6px rgba(245,158,11,0.6);
}
/* ===== Base ===== */
*{box-sizing:border-box}
html,body{background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial}
img{max-width:100%;height:auto;display:block}
a{color:var(--link)}
a:hover{text-decoration:underline}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* ===== Layout ===== */
.container{max-width:80rem;margin:0 auto;padding:0 1rem}
.sticky-header{position:sticky;top:0;z-index:20;background:color-mix(in srgb,var(--bg) 85%,transparent);backdrop-filter:saturate(180%) blur(6px);border-bottom:1px solid var(--ring)}

/* ===== Cards ===== */
.card,.quiz-card{background:var(--card);border:1px solid var(--ring);border-radius:1rem;box-shadow:var(--shadow);transition:transform .15s,box-shadow .2s,border-color .2s}
.card:hover{transform:translateY(-1px);box-shadow:var(--shadow-lg)}
.quiz-card{padding:1rem 1.25rem}

/* ===== Buttons ===== */
.btn{border-radius:.75rem;padding:.6rem 1rem;font-weight:600;min-height:44px;display:inline-flex;align-items:center;gap:.4rem;text-decoration:none;border:0;cursor:pointer}
.btn-ghost{background:transparent;border:1px solid var(--ring);color:var(--text)}
.btn-blue{background:var(--accent);color:#fff}
.btn-blue:hover{background:var(--accent-600)}
.btn-green{background:#16a34a;color:#fff}
.btn-gray{background:#e5e7eb;color:#111827}
.dark .btn-gray{background:#374151;color:#e5e7eb}
.btn:disabled{opacity:.6;cursor:not-allowed}

/* White buttons when card is maroon */
.on-accent{background:var(--accent)!important;color:#fff!important}
.on-accent .btn-blue{background:#fff;color:var(--accent);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}
.on-accent .btn-blue:hover{background:#f7f7f7}
.on-accent a.quiz-link{color:#fff;text-decoration:underline}

/* ===== Inputs ===== */
input[type="search"],input[type="text"],select{
  background:var(--card);color:var(--text);border:1px solid var(--ring);
  border-radius:.75rem;padding:.55rem .8rem;min-height:42px
}
input::placeholder{color:var(--muted)}

/* ===== Quiz bits ===== */
.quiz-link{color:var(--accent);text-decoration:underline}
.quiz-link:hover{text-decoration:none}
.explain{display:none;margin-top:.75rem;font-size:.95rem;color:var(--muted)}
.explain.show{display:block}
.correct{outline:2px solid var(--good);border-radius:.75rem}
.wrong{outline:2px solid var(--bad);border-radius:.75rem}

/* Progress + flame */
.progress-bar-container{position:relative;width:100%;height:8px;background:var(--ring);border-radius:9999px;margin:.75rem 0 1rem;overflow:visible}
.progress-bar{height:100%;background:var(--accent);transition:width .3s;position:relative;z-index:1;border-radius:9999px}
.fire-flame{position:absolute;right:0;top:50%;transform:translateY(-50%) translateX(100%);font-size:1.5rem;animation:pulse-fire 1s infinite alternate;z-index:2}
@keyframes pulse-fire{from{transform:translateY(-50%) translateX(100%) scale(var(--flame-scale,1))}to{transform:translateY(-50%) translateX(100%) scale(calc(var(--flame-scale,1)+.1))}}
.hidden{display:none!important}

/* Segmented control */
.segmented{display:inline-flex;border:1px solid var(--ring);border-radius:.75rem;background:var(--card);overflow:hidden}
.segmented .seg-link,.segmented button{padding:.45rem .9rem;font-weight:600;min-height:44px;border:none;background:transparent;color:var(--text);display:inline-flex;align-items:center;justify-content:center;min-width:3rem;text-decoration:none}
.segmented .seg-link + .seg-link,.segmented button + button{border-left:1px solid var(--ring)}
.segmented .active{background:var(--accent);color:#fff}

/* ===== Pills (color-coded) ===== */
.pill{display:inline-block;font-size:.7rem;font-weight:700;padding:.2rem .55rem;border-radius:9999px;line-height:1;vertical-align:middle}
.pill-new{background:#10b981;color:#fff}      /* green */
.pill-featured{background:#3b82f6;color:#fff} /* blue */
.pill-tbd{background:#f59e0b;color:#111827}   /* amber */
.dark .pill-tbd{background:#fbbf24;color:#111827}

/* Hero helpers */
.hero .card{border-color:rgba(255,255,255,.25)}

/* Accessibility */
.btn:focus-visible,.quiz-link:focus-visible,a:focus-visible,input:focus-visible,select:focus-visible{outline:3px solid var(--accent);outline-offset:2px}
label:has(input:focus-visible){outline:2px dashed var(--accent);border-radius:.5rem}
#prompt,#options{word-wrap:break-word;overflow-wrap:anywhere}

/* Skeleton (optional future) */
.skeleton{position:relative;overflow:hidden;background:color-mix(in srgb,var(--ring) 60%,var(--card));border-radius:.6rem;min-height:1.2rem}
.skeleton::after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.35),transparent);transform:translateX(-100%);animation:shimmer 1.2s infinite}
@keyframes shimmer{100%{transform:translateX(100%)}}

/* Print */
@media print{
  header,footer,.segmented,#class-filter,#resume-wrap,#recent-strip{display:none!important}
  body{background:#fff;color:#000}
  .quiz-card{box-shadow:none;border-color:#ddd}
}

/* Responsive */
@media (max-width:420px){
  .btn{padding:.55rem .8rem}
  .segmented .seg-link,.segmented button{padding:.4rem .6rem;min-width:2.4rem}
}
/* ========= Pills (New / Featured / TBD) ========= */
.pill{
  display:inline-flex; align-items:center; gap:.35rem;
  font-weight:700; font-size:.72rem; line-height:1;
  padding:.28rem .5rem; border-radius:9999px;
  border:1px solid transparent; user-select:none;
}
.pill svg{ width:.9rem; height:.9rem; }

.pill-new{
  background:#d1fae5; color:#065f46; border-color:#a7f3d0;
}
.dark .pill-new{
  background:#064e3b; color:#d1fae5; border-color:#047857;
}

.pill-featured{
  background:#dbeafe; color:#1e40af; border-color:#bfdbfe;
}
.dark .pill-featured{
  background:#1e3a8a; color:#dbeafe; border-color:#1d4ed8;
}

.pill-tbd{
  background:#fef3c7; color:#92400e; border-color:#fde68a;
}
.dark .pill-tbd{
  background:#78350f; color:#fde68a; border-color:#f59e0b;
}

/* Button polish so Start buttons look consistent next to pills */
.btn{ border-radius:.75rem; padding:.6rem 1rem; font-weight:600; min-height:44px; }
.btn-ghost{ background:transparent; border:1px solid var(--ring); }
.btn-blue{ background:var(--accent); color:#fff; }
.btn-blue:hover{ background:var(--accent-600); }
.btn-green{ background:#16a34a; color:#fff; }
.btn-gray{ background:#e5e7eb; } .dark .btn-gray{ background:#374151; color:#e5e7eb; }

/* Ensure pills don’t break layout in rows */
.actions-row{ display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
